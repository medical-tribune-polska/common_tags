<% taggable_type, taggable_id = taggable.class.name, taggable.id %>

<%= form_tag common_tags.set_taggings_path,
             method: :patch,
             remote: true,
             class: 'taggable-form',
             data: { toggle: 'common_tags_form',
                     'taggable-id': taggable_id,
                     'taggable-type': taggable_type } do %>
  <%= hidden_field_tag :taggable_type, taggable_type %>
  <%= hidden_field_tag :taggable_id, taggable_id %>
  <% hidden_field_tag :taggable_id, taggable_id %>
  <%= select_tag :tag_ids,
                 tags_options_for_select(taggable.tags),
                 { multiple: true,
                   class: 'form-control',
                   data: { toggle: 'common_tags_select',
                           suggestions: common_tags.suggestions_list_tags_path(list),
                           autosubmit: true } } %>
<% end %>
